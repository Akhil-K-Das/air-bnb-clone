<div 
    data-controller="geolocation" 
    class="container mx-auto px-24 py-16"
    data-latitude="<%= current_user&.profile&.latitude %>"
    data-longitude="<%= current_user&.profile&.longitude %>"
>
    <div data-geolocation-target= "locationEnable" class="p-2 flex justify-between">
        <button data-geolocation-target="permissionGrantedButton" class="mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Use my location</button>
    </div>
   <ul role="list" class="grid grid-cols-1 gap-x-2 gap-y-4 sm:grid-cols-4 sm:gap-x-4 lg:grid-cols-5 xl:gap-x-6">
  <% @properties.each do |property| %>
    <li class="relative"
        data-geolocation-target="property"
        data-latitude=<%= property.latitude %>
        data-longitude=<%= property.longitude %>
    >
      <!-- Adjust the aspect ratio -->
      <div class="group block w-full aspect-w-4 aspect-h-3 rounded-lg bg-gray-100 focus-within:ring-1 focus-within:ring-offset-1 focus-within:ring-indigo-400">
        <img 
          src="https://images.unsplash.com/photo-1582053433976-25c00369fc93?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60" 
          alt="" 
          class="object-cover pointer-events-none group-hover:opacity-75 w-full h-40"
        >
        <button type="button" class="absolute inset-0 focus:outline-none">
          <span class="sr-only">View details for Modern, clean and well-located apartment</span>
        </button>
      </div>
      <!-- Adjust text sizes -->
      <p class="mt-1 block text-xs font-medium text-gray-900 truncate pointer-events-none"><%= property.city %>, <%= property.state %> <%= property.country %></p>
      <p data-distance-away class="mt-1 block text-xs text-gray-500 truncate pointer-events-none"> </p>
      <p class="mt-1 block text-xs text-gray-700 truncate pointer-events-none">Jan 19 - Jan 24</p>
      <p class="mt-1 block text-xs text-gray-800 font-semibold truncate pointer-events-none"><%= humanized_money_with_symbol(property.price) %> per night</p>
    </li>
  <% end %>
</ul>

</div>